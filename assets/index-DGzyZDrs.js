(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))B(l);new MutationObserver(l=>{for(const m of l)if(m.type==="childList")for(const M of m.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&B(M)}).observe(document,{childList:!0,subtree:!0});function N(l){const m={};return l.integrity&&(m.integrity=l.integrity),l.referrerPolicy&&(m.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?m.credentials="include":l.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function B(l){if(l.ep)return;l.ep=!0;const m=N(l);fetch(l.href,m)}})();document.addEventListener("DOMContentLoaded",()=>{const z=()=>{const t=document.querySelector(".reveal-left"),e=document.querySelector(".reveal-right"),n=document.querySelector(".reveal-text"),i=document.querySelector(".reveal-up");t&&(t.style.animation="slideInLeft 1.2s cubic-bezier(0.2, 1, 0.3, 1) forwards",t.style.opacity="1"),e&&(e.style.animation="slideInRight 1.4s cubic-bezier(0.2, 1, 0.3, 1) forwards 0.2s",e.style.opacity="1"),n&&(n.style.transition="opacity 1.5s ease 0.5s",n.style.opacity="1"),i&&(i.style.animation="slideInUp 1.2s ease forwards 0.8s",i.style.opacity="1");const o=document.querySelector(".scroll-hint");o&&(o.style.animation="fadeIn 1s ease 2s forwards")},C=()=>{const t=document.getElementById("preloader");t&&!t.classList.contains("loaded")&&(t.classList.add("loaded"),setTimeout(()=>{z()},400),console.log("NOIR EDITION // SYSTEM ONLINE"))};window.addEventListener("load",C),setTimeout(C,2500);const N=document.getElementById("cursor-spotlight");N&&window.addEventListener("mousemove",t=>{const e=t.clientX,n=t.clientY;N.style.setProperty("--x",`${e}px`),N.style.setProperty("--y",`${n}px`)});const B=document.querySelector(".parallax-target");B&&document.addEventListener("mousemove",t=>{const e=B.getAttribute("data-speed")||20,n=(window.innerWidth-t.pageX*e)/100,i=(window.innerHeight-t.pageY*e)/100;B.style.transform=`rotate(4deg) translateX(${n}px) translateY(${i}px)`});const l={threshold:.15,rootMargin:"0px 0px -50px 0px"},m=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("active"),m.unobserve(e.target))})},l);document.querySelectorAll(".scroll-reveal").forEach(t=>m.observe(t));const M=document.getElementById("header-timecode");if(M){let t=0,e=0,n=0,i=0;setInterval(()=>{t++,t>29&&(t=0,e++),e>59&&(e=0,n++),n>59&&(n=0,i++);const o=t<10?"0"+t:t,v=e<10?"0"+e:e,f=n<10?"0"+n:n,h=i<10?"0"+i:i;M.textContent=`${h}:${f}:${v}:${o}`},33)}const F=document.getElementById("menuToggle"),k=document.getElementById("mobileNav"),K=document.querySelectorAll(".mobile-link");F&&k&&(F.addEventListener("click",()=>{k.classList.toggle("open");const t=F.querySelector(".menu-label");k.classList.contains("open")?(document.body.style.overflow="hidden",t&&(t.textContent="CLOSE")):(document.body.style.overflow="",t&&(t.textContent="MENU"))}),K.forEach(t=>{t.addEventListener("click",()=>{k.classList.remove("open"),document.body.style.overflow="";const e=F.querySelector(".menu-label");e&&(e.textContent="MENU")})})),document.querySelectorAll(".expand-btn, .expand-btn-stamp").forEach(t=>{t.addEventListener("click",e=>{const n=e.target.closest(".dossier-card, .index-card");if(!n)return;const i=n.querySelector(".hidden-content");if(!i)return;const o=t.getAttribute("data-closed"),v=t.getAttribute("data-open");i.classList.contains("visible")?(i.classList.remove("visible"),t.textContent=o):(i.classList.add("visible"),t.textContent=v)})}),document.querySelectorAll(".interactive-redacted").forEach(t=>{t.addEventListener("click",e=>{e.stopPropagation(),t.classList.contains("revealed")||t.classList.add("revealed")})});const Q=new Date("August 20, 2026 00:00:00").getTime(),H=()=>{const t=new Date().getTime(),e=Q-t;if(e<0){const p=document.getElementById("countdown");p&&(p.innerHTML="<span style='color:var(--accent)'>ARCHIVE DECLASSIFIED</span>");return}const n=Math.floor(e/(1e3*60*60*24)),i=Math.floor(e%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(e%(1e3*60*60)/(1e3*60)),v=Math.floor(e%(1e3*60)/1e3),f=document.getElementById("days"),h=document.getElementById("hours"),y=document.getElementById("minutes"),s=document.getElementById("seconds");f&&(f.innerText=n<10?"0"+n:n),h&&(h.innerText=i<10?"0"+i:i),y&&(y.innerText=o<10?"0"+o:o),s&&(s.innerText=v<10?"0"+v:v)};H(),setInterval(H,1e3);const A=document.querySelector(".download-btn");A&&A.addEventListener("click",t=>{t.preventDefault();const e=A.querySelector(".btn-text"),n=e.textContent;A.classList.contains("denied")||(e.textContent="[ VERIFYING... ]",setTimeout(()=>{e.textContent="[ ACCESS DENIED ]",e.style.color="var(--accent)",e.style.textShadow="0 0 10px var(--accent)",A.style.borderColor="var(--accent)",A.classList.add("denied"),setTimeout(()=>{e.textContent=n,e.style.color="",e.style.textShadow="",A.style.borderColor="",A.classList.remove("denied")},2500)},1500))}),(()=>{const t=document.getElementById("oscillator");if(!t)return;const e=t.getContext("2d"),n=document.getElementById("tuner"),i=document.getElementById("freq-val"),o=document.getElementById("transcript-text"),v=document.querySelectorAll(".bar"),f=document.getElementById("audio-toggle");let h=t.width,y=t.height,s,p,L,c,g,u,w,x,D,P,Y,R=!1;const _=()=>{if(s)return;const I=window.AudioContext||window.webkitAudioContext;s=new I,p=s.createGain(),p.gain.value=0,L=s.createAnalyser(),L.fftSize=256,p.connect(L),L.connect(s.destination);const E=s.sampleRate*2,a=s.createBuffer(1,E,s.sampleRate),b=a.getChannelData(0);for(let r=0;r<E;r++)b[r]=Math.random()*2-1;c=s.createBufferSource(),c.buffer=a,c.loop=!0,g=s.createGain(),g.gain.value=.5;const O=s.createBiquadFilter();O.type="bandpass",O.frequency.value=1e3,O.Q.value=.5,c.connect(O).connect(g).connect(p),c.start(),u=s.createOscillator(),u.type="sine",u.frequency.value=1e3,w=s.createGain(),w.gain.value=0,u.connect(w).connect(p),u.start(),x=s.createOscillator(),x.type="sawtooth",x.frequency.value=440,D=s.createGain(),D.gain.value=0,P=s.createOscillator(),P.type="square",P.frequency.value=12,Y=s.createGain(),Y.gain.value=200,P.connect(Y).connect(x.frequency),x.connect(D).connect(p),P.start(),x.start()},ee=()=>{s||_(),s.state==="suspended"&&s.resume(),R=!R,R?(p.gain.setTargetAtTime(.4,s.currentTime,.1),f.textContent="[ ВИМКНУТИ ЗВУК ]",f.classList.add("active")):(p.gain.setTargetAtTime(0,s.currentTime,.1),f.textContent="[ УВІМКНУТИ ЗВУК ]",f.classList.remove("active"))};f&&f.addEventListener("click",ee);const te=[{freq:92.4,msg:"ПОВІДОМЛЕННЯ: Спостерігаю рух колони по бульвару Шевченка. 3 вантажівки. Прийом.",type:"sawtooth",baseFreq:150},{freq:98.8,msg:"УВАГА: Код 'Волошка'. Повторюю. Код 'Волошка'. Усім постам.",type:"square",baseFreq:400},{freq:104.5,msg:"ТЕРМІНОВО: Вони палять документи. Банк горить. Потрібна підтримка.",type:"triangle",baseFreq:800}],U=()=>{const I=t.getBoundingClientRect();t.width=I.width,t.height=I.height,h=t.width,y=t.height};window.addEventListener("resize",U),U();const V=()=>{const I=parseFloat(n.value);let E=null,a=0,b=100;if(te.forEach(r=>{const d=Math.abs(I-r.freq);d<b&&(b=d,E=r)}),b<.5?a=1-b/.5:a=0,s&&R){const r=s.currentTime;if(a>0){x.type!==E.type&&(x.type=E.type);const d=b*200;x.frequency.setTargetAtTime(E.baseFreq+d,r,.1);const T=Math.pow(a,3)*.4;D.gain.setTargetAtTime(T,r,.1);const S=(1-a*.8)*.3;g.gain.setTargetAtTime(S,r,.1);let q=0;b>.02&&b<.4&&(q=Math.sin(b*Math.PI*2.5)*.15,q<0&&(q=0)),w.gain.setTargetAtTime(q,r,.1);const W=Math.max(50,b*4e3);u.frequency.setTargetAtTime(W,r,.1)}else g.gain.setTargetAtTime(.5,r,.2),D.gain.setTargetAtTime(0,r,.2),w.gain.setTargetAtTime(0,r,.2)}i.innerText=I.toFixed(2);const O=Math.floor(a*5.5);if(v.forEach((r,d)=>{d<O?r.classList.add("active"):r.classList.remove("active")}),E&&a>.95?o.innerText!==E.msg&&(o.innerText=E.msg,o.style.color="#0f0",o.style.textShadow="0 0 8px #0f0"):E&&a>.4?(o.innerText="[ СИГНАЛ ВИЯВЛЕНО... НАЛАШТУЙТЕ ТОЧНІШЕ ]",o.style.color="#cc0",o.style.textShadow="none"):o.innerText!=="[ ШУКАЙТЕ ЧАСТОТУ ДЛЯ ОТРИМАННЯ ДАНИХ ]"&&(o.innerText="[ ШУКАЙТЕ ЧАСТОТУ ДЛЯ ОТРИМАННЯ ДАНИХ ]",o.style.color="#555",o.style.textShadow="none"),e.clearRect(0,0,h,y),e.lineWidth=2,R&&L){const r=L.frequencyBinCount,d=new Uint8Array(r);L.getByteTimeDomainData(d),e.beginPath(),e.strokeStyle=a>.8?"#0f0":a>.3?"#cc0":"#c0392b";const T=h*1/r;let S=0;for(let q=0;q<r;q++){const X=d[q]/128*y/2;q===0?e.moveTo(S,X):e.lineTo(S,X),S+=T}e.stroke()}else{e.beginPath(),e.strokeStyle=a>.8?"#0f0":a>.3?"#cc0":"#c0392b";const r=Date.now()*.005;for(let d=0;d<h;d++){let T=y/2;if(a>.8)T+=Math.sin(d*.05+r*5)*(y/3);else{const S=1-a;T+=(Math.random()-.5)*(y*.8*S),a>0&&(T+=Math.sin(d*.05+r*5)*(y/4)*a)}d===0?e.moveTo(d,T):e.lineTo(d,T)}e.stroke()}requestAnimationFrame(V)};V()})(),(()=>{const t=document.querySelectorAll(".interactive-map-element"),e=document.getElementById("map-tooltip"),n=document.querySelector(".constructivist-poster");if(!t.length)return;const i=c=>{if(!e||!n)return;const g=n.getBoundingClientRect(),u=c.clientX-g.left,w=c.clientY-g.top;e.style.left=`${u}px`,e.style.top=`${w}px`},o=document.getElementById("intel-modal"),v=document.getElementById("intel-title"),f=document.getElementById("intel-desc"),h=document.getElementById("intel-type-label"),y=document.querySelector(".intel-modal-box"),s=document.getElementById("intel-close-btn"),p=(c,g,u)=>{o&&(v.textContent=c||"UNKNOWN",f.textContent=g,y.classList.remove("warning"),u==="warning"?(y.classList.add("warning"),h.textContent="WARNING"):h.textContent="INTEL",o.classList.add("active"))},L=()=>{o&&o.classList.remove("active")};s&&s.addEventListener("click",L),o&&o.addEventListener("click",c=>{c.target===o&&L()}),t.forEach(c=>{c.classList.contains("interactive-map-element")&&(c.addEventListener("mouseenter",g=>{const u=c.getAttribute("data-label");u&&e&&(e.textContent=u,e.classList.add("visible"))}),c.addEventListener("mousemove",i),c.addEventListener("mouseleave",()=>{e&&e.classList.remove("visible")})),c.addEventListener("click",g=>{const u=c.getAttribute("data-type"),w=c.getAttribute("data-title")||c.getAttribute("data-label"),x=c.getAttribute("data-desc")||"Restricted area. Unauthorized access prohibited.";(u||w)&&(g.preventDefault(),g.stopPropagation(),p(w,x,u))})})})();const j=document.querySelectorAll("section"),J=document.querySelectorAll(".desktop-nav a"),Z=()=>{let t="";j.forEach(e=>{const n=e.offsetTop;e.clientHeight,window.scrollY>=n-250&&(t=e.getAttribute("id"))}),J.forEach(e=>{e.classList.remove("active-nav"),e.getAttribute("href").includes(t)&&e.classList.add("active-nav")})};let G=!1;window.addEventListener("scroll",()=>{G||(window.requestAnimationFrame(()=>{Z(),G=!1}),G=!0)}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href");if(n==="#")return;const i=document.querySelector(n);if(i){const f=i.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:f,behavior:"smooth"})}})});const $=document.querySelector(".logo");$&&($.style.cursor="pointer",$.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),history.pushState(null,null," ")}))});
